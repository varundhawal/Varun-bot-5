module.exports.config = {
    name: "shayri",
    version: "1.0.0",
    hasPermssion: 0,
    credits: "PIYUSH CHAUHAN",
    description: "THIS BOT WAS MADE BY MR PIYUSH CHAUHAN",
    commandCategory: "SHAYRI PROFILE",
    cooldowns: 0
};

module.exports.run = async function({ event, api, args, client, Currencies, Users, utils, __GLOBAL, reminder }) {
    const fs = global.nodemodule["fs-extra"];
    const request = global.nodemodule["request"];
    const axios = global.nodemodule['axios'];
    
    // Shayari ka array
    const shayariList = ["Do Belv Ao Peopl C Chg At¬"-[] " ,
"____ÿ øO  ht Lov  Ws w Grt AlLf App Lfÿ ____ ",ÿ 
"ÿÿÿ - ;))øÿ ___-__øTw Tw Ltt St ot ot 's   CÅÄÅ -[] ",
"Sx M ø "


[|==>   2 <==|]
 [ Bio No-1 ]

{{ø"--û^^



____"f  âª  ¬ ¢ 
 g, ¬  _"



Hcø}}",
"


 [ Bio No-2 ]

^^))__




Excs M, 
I Fo Sot U M Sos 
O, Its Yo Atttø



Rpot",
"


 [ Bio No-3 ]

-__




___"To j   j(^^)
*)) t pS  H j	 H:


Y
:)Co",
"


 [ Bio No-4 ]
_-_

__T U CG J T H  
Bt p t H To S__

(:Rctor",
"


 [ Bio No-5]
___-_



_øTw Tw Ltt St ot ot 's   CÅÄÅ 

"-[]

Sx M 


ø",
"


 [ Bio No-6 ]

"-_



____"If o TK I ¬ BAD o woG, I¬  wos
""___



"-_",
"


 [ Bio No-7 ]
_____|" me 
ÿÿÿÿÿÿ 

" ot t oï t pïct mot ~ 
' t t mot   t pïct "~ 
ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ 
ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ - ",
"


 [ Bio No-8 ]

((ø"___svnÿ bllonÿ sml'sÿ nÿ hsÿ worldÿ buÿ our'sÿ sÿ mÿ fvours___"

 [ Bio No-9]
"-





- Somms '  'x Btt o s S ad Sm"- ;)) 






-Piyush'',
"


 [ Bio No-10]
_______[] øs s  
  d ad  sø

#Piyush",
"


 [ Bio No-11]







øøø
~   2 ~
øøø




",
"


 [ Bio No-12]
ÅÄÄ"-





^^Å ø Kp TlG Bch Yo' MG Mh Fox__^^"-






ÄÅ
v ïcï ",
"


 [ Bio No-13]







- Intoxicated With Mad








",
"


 [ Bio No-14]

*- ||  :-)

‚¢y '  øs­ " ªiss 

~!! ø|| 




 '  '      "




",
"


 [ Bio No-15]



____ÿ øO  ht Lov  Ws w Grt AlLf App Lfÿ ____ÿ 


",
"


 [ Bio No-16]



- ;))_øÿ - Do Belv Ao - Peopl C Chg At¬ ÿÿ - ;))øÿ 


",
"


 [ Bio No-17]



-øø]ÿ f  D k M   G  Cr d G  hÿ -_ ]ÿÿ 


",
"


 [ Bio No-18]

____:))ÿ Fct wo  v t t I ov o.:)) ____=)ÿ ",
"


 [ Bio No-19]




_- )-ÿ ~Happnxx s n smHnÿ adÿ madÿ I cmx fm yu wn acnxÿ Eddyÿ 


",
"

 [ Bio No-20]

øøÿ 


- YsH ! 4m cr4zy, normal !s bOr!Ng fOr m33 <)) ÿ 


øøÿ ",
"

 [ Bio No-21]


ø  _ÿ - S!mpL!c!Ty !s 4lsO 4 f4sh!On 3veryOne c4NT 4ffOrD )) ÿ ____  øÿ ",

"

 [ Bio No-22]


9) :)ÿ _øTw Tw Ltt Stot ot s   CÅÄÅ ÿ []ÿ ",
"

 [ Bio No-23]


10) -[]-ÿ ___ If o TK I ¬ BAD  o woG, I¬  wos  ___ÿ M_óã[]ÿ ",
"

 [ Bio No-24]

11) ___-_ÿ ___T U CG J T H ÿ Bt p t H To S___ÿ (:ÿ ",
"

 [ Bio No-25]

12) {{ø-û^^ÿ ____f  âª  ¬ ¢  g, ¬  _ÿ ø}} ",
"

 [ Bio No-26]

13) ø^)ÿ Excs M I Fo Sot U M Sos O, Its Yo Atttøÿ :)) ",
"

 [ Bio No-27]

14)ÿ _-)-ÿ ___To j   j(^^) *)) t pS  H j Hÿ -øø]ÿ ",
"

 [ Bio No-28]


15) - ;))-ÿ     C C M   C e  ÿ - ;))øÿ ",
"

 [ Bio No-29]


16)  -ÿ ø_   B p s  :)) d  cc_øÿ B- ",
"

 [ Bio No-30]

ÎÄEtoÄÎ


ÎÄTcÄÎ


ÎÄpotÄÎ


ÎÄcoÄÎ

",

];

    const randomShayari = shayariList[Math.floor(Math.random() * shayariList.length)];

    // Shayari aur profile picture ke saath message bhejne ka function
    const sendShayariWithProfilePic = (shayari, picture) => {
        api.sendMessage({
            body: BIO,
            attachment: fs.createReadStream(picture)
        }, event.threadID, () => fs.unlinkSync(picture), event.messageID);
    };

    const sendProfilePic = (uid, shayari) => {
        const callback = () => sendShayariWithProfilePic(shayari, __dirname + "/cache/1.png");
        return request(encodeURI(`https://graph.facebook.com/${uid}/picture?height=1500&width=1500&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662`))
            .pipe(fs.createWriteStream(__dirname + '/cache/1.png'))
            .on('close', callback);
    };

    const sendWarningMessage = () => {
        api.sendMessage("DON'T CHANGE CREDIT FUCK YOUR MOTHER AND SISTER", event.threadID);
    };

    if (event.type == "message_reply") {
        let name = await Users.getNameUser(event.messageReply.senderID);
        const uid = event.messageReply.senderID;
        sendProfilePic(uid, randomShayari);
    } else {
        let uid;
        if (!args[0]) {
            uid = event.senderID;
        } else if (args[0].indexOf(".com/") !== -1) {
            const res_ID = await api.getUID(args[0]);
            uid = res_ID;
        } else if (args.join().indexOf('@') !== -1) {
            uid = Object.keys(event.mentions)[0];
        }
        sendProfilePic(uid, randomShayari);
    }

    if (event.name == "shayri" && args[0] == "credits") {
        sendWarningMessage();
    }
};
